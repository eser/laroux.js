/**
 * laroux.js - A jquery substitute for modern browsers (laroux.web bundle)
 *
 * @version v2.2.0
 * @link https://eserozvataf.github.io/laroux.js
 * @license Apache-2.0
 */
!function e(t,r,n){function o(i,l){if(!r[i]){if(!t[i]){var u="function"==typeof require&&require;if(!l&&u)return u(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./laroux.web.css.js"),a=n(o),i={data:[],fx:{interpolate:function(e,t,r){return e+(t-e)*r},easing:function(e){return-Math.cos(e*Math.PI)/2+.5}},set:function(e){return e.deferred=new $l.promise(function(t,r){e.deferredResolve=t,e.deferredReject=r}),e.startTime=void 0,(null===e.unit||void 0===e.unit)&&(e.unit=""),(null===e.from||void 0===e.from)&&(e.from=e.object===document.body&&"scrollTop"===e.property?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:e.object[e.property]),e.from.constructor===String&&(e.from=Number(e.from)),i.data.push(e),1===i.data.length&&requestAnimationFrame(i.onframe),e.deferred},setCss:function(e){return(null===e.from||void 0===e.from)&&(e.from=a["default"].getProperty(e.object,e.property)),e.object=e.object.style,e.property=$l.camelCase(e.property),i.set(e)},remove:function(e){var t=null;for(var r in i.data)if(i.data.hasOwnProperty(r)){var n=i.data[r];if(void 0!==n.id&&n.id==e){t=r;break}}if(null!==t){var o=i.data[t];return o.deferredReject("stop"),i.data.splice(t,1),!0}return!1},onframe:function(e){var t=[];for(var r in i.data)if(i.data.hasOwnProperty(r)){var n=i.data[r];void 0===n.startTime&&(n.startTime=e),i.step(n,e),e>n.startTime+n.time&&(n.reset===!0?(n.startTime=e,n.object===document.body&&"scrollTop"===n.property?scrollTo(0,n.from):n.object[n.property]=n.from):(t=$l.prependArray(t,r),n.deferredResolve()))}for(var o in t)t.hasOwnProperty(o)&&i.data.splice(t[o],1);i.data.length>0&&requestAnimationFrame(i.onframe)},step:function(e,t){var r=e.startTime+e.time,n=t>r?1:(t-e.startTime)/e.time,o=i.fx.interpolate(e.from,e.to,i.fx.easing(n))+e.unit;e.object===document.body&&"scrollTop"===e.property?scrollTo(0,o):e.object[e.property]=o}};r["default"]=i,t.exports=r["default"]},{"./laroux.web.css.js":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={hasClass:function(e,t){return e.classList.contains(t)},addClass:function(e,t){for(var r=$l.getAsArray(e),n=0,o=r.length;o>n;n++)r[n].classList.add(t)},removeClass:function(e,t){for(var r=$l.getAsArray(e),n=0,o=r.length;o>n;n++)r[n].classList.remove(t)},toggleClass:function(e,t){for(var r=$l.getAsArray(e),n=0,o=r.length;o>n;n++)r[n].classList.contains(t)?r[n].classList.remove(t):r[n].classList.add(t)},cycleClass:function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r].classList.contains(t))return e[r].classList.remove(t),void e[(r+1)%n].classList.add(t)},getProperty:function(e,t){var r=getComputedStyle(e);return t=$l.antiCamelCase(t),r.getPropertyValue(t)},setProperty:function(e,t,r){var n=$l.getAsArray(e);if("string"==typeof t){var o=t;t={},t[o]=r}for(var a in t)if(t.hasOwnProperty(a))for(var i=$l.camelCase(a),l=0,u=n.length;u>l;l++)n[l].style[i]=t[a]},defaultTransition:"2s ease",setTransitionSingle:function(e,t){var r=$l.getAsArray(t),o=getComputedStyle(e),a=o.getPropertyValue("transition")||o.getPropertyValue("-webkit-transition")||o.getPropertyValue("-ms-transition")||"",i=void 0;i=a.length>0?a.split(","):[];for(var l in r)if(r.hasOwnProperty(l)){var u=void 0,s=void 0,c=r[l].indexOf(" ");-1!==c?(u=r[l].substring(0,c),s=r[l].substring(c+1)):(u=r[l],s=n.defaultTransition);for(var d=!1,f=0;f<i.length;f++)if(0===i[f].trim().localeCompare(u)){i[f]=u+" "+s,d=!0;break}d||i.push(u+" "+s)}var p=i.join(", ");e.style.transition=p,e.style.webkitTransition=p,e.style.msTransition=p},setTransition:function(e,t){for(var r=$l.getAsArray(e),o=0,a=r.length;a>o;o++)n.setTransitionSingle(r[o],t)},show:function(e,t){void 0!==t?n.setTransition(e,"opacity "+t):n.setTransition(e,"opacity"),n.setProperty(e,{opacity:1})},hide:function(e,t){void 0!==t?n.setTransition(e,"opacity "+t):n.setTransition(e,"opacity"),n.setProperty(e,{opacity:0})},height:function o(e){var t=getComputedStyle(e),o=t.getPropertyCSSValue("height");return o.getFloatValue(o.primitiveType)},innerHeight:function(e){return e.clientHeight},outerHeight:function(e,t){if(t)return e.offsetHeight;var r=getComputedStyle(e),n=r.getPropertyCSSValue("margin-top"),o=r.getPropertyCSSValue("margin-bottom"),a=n.getFloatValue(n.primitiveType)+o.getFloatValue(o.primitiveType);return Math.ceil(e.offsetHeight+a)},width:function(e){var t=getComputedStyle(e),r=t.getPropertyCSSValue("width");return r.getFloatValue(r.primitiveType)},innerWidth:function(e){return e.clientWidth},outerWidth:function(e,t){if(t)return e.offsetWidth;var r=getComputedStyle(e),n=r.getPropertyCSSValue("margin-left"),o=r.getPropertyCSSValue("margin-right"),a=n.getFloatValue(n.primitiveType)+o.getFloatValue(o.primitiveType);return Math.ceil(e.offsetWidth+a)},top:function(e){return e.getBoundingClientRect().top+(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)},left:function(e){return e.getBoundingClientRect().left+(document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft)},aboveTheTop:function(e){return e.getBoundingClientRect().bottom<=0},belowTheFold:function(e){return e.getBoundingClientRect().top>innerHeight},leftOfScreen:function(e){return e.getBoundingClientRect().right<=0},rightOfScreen:function(e){return e.getBoundingClientRect().left>innerWidth},inViewport:function(e){var t=e.getBoundingClientRect();return!(t.bottom<=0||t.top>innerHeight||t.right<=0||t.left>innerWidth)}};r["default"]=n,t.exports=r["default"]},{}],3:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={docprop:function(e){return document.documentElement.classList.contains(e)},select:function(e,t){return $l.toArray((t||document).querySelectorAll(e))},selectByClass:function(e,t){return $l.toArray((t||document).getElementsByClassName(e))},selectByTag:function(e,t){return $l.toArray((t||document).getElementsByTagName(e))},selectById:function(e,t){return(t||document).getElementById(e)},selectSingle:function(e,t){return(t||document).querySelector(e)},attr:function(e,t,r){if(void 0===r&&t.constructor!==Object)return e.getAttribute(t);var n=$l.getAsArray(e);if("string"==typeof t){var o=t;t={},t[o]=r}for(var a in t)if(t.hasOwnProperty(a))for(var i=0,l=n.length;l>i;i++)null===t[a]?e.removeAttribute(a):e.setAttribute(a,t[a])},data:function(e,t,r){if(void 0===r&&t.constructor!==Object)return e.getAttribute("data-"+t);var n=$l.getAsArray(e);if("string"==typeof t){var o=t;t={},t[o]=r}for(var a in t)if(t.hasOwnProperty(a))for(var i=0,l=n.length;l>i;i++)null===t[a]?e.removeAttribute("data-"+a):e.setAttribute("data-"+a,t[a])},eventHistory:[],setEvent:function(e,t,r){for(var o=$l.getAsArray(e),a=0,i=o.length;i>a;a++)n.setEventSingle(o[a],t,r)},setEventSingle:function(e,t,r){var o=function(t){r(t,e)===!1&&(t.preventDefault?t.preventDefault():event.returnValue=!1)};n.eventHistory.push({element:e,eventname:t,callback:r,callbackWrapper:o}),e.addEventListener(t,o,!1)},unsetEvent:function(e,t,r){for(var o=$l.getAsArray(e),a=0,i=o.length;i>a;a++)for(var l=0,u=n.eventHistory.length;u>l;l++){var s=n.eventHistory[l];void 0!==s&&s.element===o[a]&&(void 0===t||s.eventname===t)&&(void 0===r||s.callback===r)&&(s.element.removeEventListener(s.eventname,s.callbackWrapper,!1),delete n.eventHistory[l])}},dispatchEvent:function(e,t,r){var n=document.createEvent("Event");for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);n.initEvent(t,!0,!0),e.dispatchEvent(n)},create:function(e){var t=document.createDocumentFragment(),r=document.createElement("DIV");for(r.insertAdjacentHTML("beforeend",e);r.firstChild;)t.appendChild(r.firstChild);return r=null,t},createElement:function(e,t,r){var o=document.createElement(e);if(void 0!==t&&t.constructor===Object)for(var a in t)t.hasOwnProperty(a)&&o.setAttribute(a,t[a]);if(void 0!==r)if(r.constructor===Object)for(var i in r)r.hasOwnProperty(i)&&o.setAttribute(i,r[i]);else r.length>0&&n.append(o,r);return o},createOption:function(e,t,r,o){var a=document.createElement("OPTION");a.setAttribute("value",t),o===!0&&a.setAttribute("checked","checked"),n.append(a,r),e.appendChild(a)},selectByValue:function(e,t){for(var r=0,n=e.options.length;n>r;r++)if(e.options[r].getAttribute("value")==t){e.selectedIndex=r;break}},clear:function(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)},insert:function(e,t,r){e.insertAdjacentHTML(t,r)},prepend:function(e,t){e.insertAdjacentHTML("afterbegin",t)},append:function(e,t){e.insertAdjacentHTML("beforeend",t)},replace:function(e,t){n.clear(e),e.insertAdjacentHTML("afterbegin",t)},replaceText:function(e,t){e.textContent=t},remove:function(e){e.remove()},cloneReturn:0,cloneAppend:1,cloneInsertAfter:2,cloneInsertBefore:3,clone:function(e,t,r,o){var a=e.cloneNode(!0);return void 0===r&&(r=e.parentNode),void 0===o&&(o=e),void 0!==t&&t!=n.cloneReturn&&(t==n.cloneAppend?r.appendChild(a):t==n.cloneInsertAfter?r.insertBefore(a,o.nextSibling):r.insertBefore(a,o)),a},loadScript:function(e,t){return new $l.promise(function(r,n){var o=document.createElement("script");void 0!==t&&(o.async=t),void 0!==o.readyState?o.onreadystatechange=function(){o.readyState in["loaded","complete"]&&(o.onreadystatechange=null,r(o))}:o.onload=function(){r(o)},o.src=e;var a=document.getElementsByTagName("head")[0];a.appendChild(o)})}};"Element"in e&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){null!==this.parentElement&&this.parentElement.removeChild(this)}),r["default"]=n,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ajaxForm:function(e,t,r){$l.web.dom.setEvent(e,"submit",function(){void 0!==r&&r();var o=$l.ajax.fetch(e.getAttribute("action"),{method:"POST",body:n.serializeFormData(e)});return void 0!==t&&o.then(t),!1})},isFormField:function(e){if("SELECT"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e.getAttribute("type").toUpperCase();return"FILE"===t||"CHECKBOX"===t||"RADIO"===t||"TEXT"===t||"PASSWORD"===t||"HIDDEN"===t?!0:!1}return"TEXTAREA"===e.tagName?!0:!1},getFormFieldValue:function(e){if(e.disabled===!0)return null;if("SELECT"===e.tagName)return e.options[e.selectedIndex].value;if("INPUT"===e.tagName){var t=e.getAttribute("type").toUpperCase();return"FILE"===t?e.files[0]:"CHECKBOX"===t||"RADIO"===t?e.checked?e.value:null:"TEXT"===t||"PASSWORD"===t||"HIDDEN"===t?e.value:null}return"TEXTAREA"===e.tagName?e.value:null},setFormFieldValue:function(e,t){if(e.disabled!==!0)if("SELECT"!==e.tagName){if("INPUT"!==e.tagName)return"TEXTAREA"===e.tagName?void(e.value=t):void 0;var r=e.getAttribute("type").toUpperCase();if("FILE"===r)return void(e.files[0]=t);if("CHECKBOX"===r||"RADIO"===r)return void((t===!0||t==e.value)&&(e.checked=!0));if("TEXT"===r||"PASSWORD"===r||"HIDDEN"===r)return void(e.value=t)}else for(var n in e.options)if(e.options.hasOwnProperty(n)&&e.options[n].value==t)return void(e.selectedIndex=n)},toggleFormEditing:function(e,t){var r=e.querySelectorAll("*[name]");void 0===t&&(null===e.getAttribute("data-last-enabled")?(e.setAttribute("data-last-enabled","enabled"),t=!1):(e.removeAttribute("data-last-enabled"),t=!0));for(var o=0,a=r.length;a>o;o++)if(n.isFormField(r[o])){var i=r[o].getAttribute("data-last-disabled");t?r[o].removeAttribute(null!==i?"data-last-disabled":"disabled"):(null===i&&null!==r[o].getAttribute("disabled")&&r[o].setAttribute("data-last-disabled","disabled"),r[o].setAttribute("disabled","disabled"))}},serializeFormData:function(e){for(var t=new FormData,r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++){var i=n.getFormFieldValue(r[o]);null!==i&&t.append(r[o].getAttribute("name"),i)}return t},serialize:function(e){for(var t={},r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++){var i=n.getFormFieldValue(r[o]);null!==i&&(t[r[o].getAttribute("name")]=i)}return t},deserialize:function(e,t){for(var r=e.querySelectorAll("*[name]"),o=0,a=r.length;a>o;o++)n.setFormFieldValue(r[o],t[r[o].getAttribute("name")])},validate:function(e,t){var r=n.serialize(e);return $l.validation.validate(r,t)}};r["default"]=n,t.exports=r["default"]},{}],5:[function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./laroux.web.anim.js"),i=o(a),l=e("./laroux.web.css.js"),u=o(l),s=e("./laroux.web.dom.js"),c=o(s),d=e("./laroux.web.forms.js"),f=o(d),p=e("./laroux.web.keys.js"),m=o(p),v=e("./laroux.web.routes.js"),g=o(v),h=e("./laroux.web.touch.js"),y=o(h),b={anim:i["default"],css:u["default"],dom:c["default"],forms:f["default"],keys:m["default"],routes:g["default"],touch:y["default"],cached:{single:{},array:{},id:{}},c:function(e){return e.constructor===Array?b.cached.array[e]||(b.cached.array[e]=$l.toArray(document.querySelectorAll(e))):b.cached.single[e]||(b.cached.single[e]=document.querySelector(e))},id:function(e,t){return(t||document).getElementById(e)},idc:function(e){return b.cached.id[e]||(b.cached.id[e]=document.getElementById(e))}};"document"in n&&document.addEventListener("DOMContentLoaded",$l.setReady),$l.extendNs("web",b),r["default"]=b,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./laroux.web.anim.js":1,"./laroux.web.css.js":2,"./laroux.web.dom.js":3,"./laroux.web.forms.js":4,"./laroux.web.keys.js":6,"./laroux.web.routes.js":7,"./laroux.web.touch.js":8}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./laroux.web.forms.js"),a=n(o),i={keyName:function(e){switch(e=e.toLowerCase()){case"backspace":return 8;case"tab":return 9;case"enter":case"return":return 13;case"esc":case"escape":return 27;case"space":return 32;case"pgup":return 33;case"pgdn":return 34;case"end":return 35;case"home":return 36;case"left":return 37;case"up":return 38;case"right":return 39;case"down":return 40;case"insert":return 45;case"delete":return 46;case"f1":return 112;case"f2":return 113;case"f3":return 114;case"f4":return 115;case"f5":return 116;case"f6":return 117;case"f7":return 118;case"f8":return 119;case"f9":return 120;case"f10":return 121;case"f11":return 122;case"f12":return 123;case",":return 188;case".":return 190}return String.fromCharCode(e)},assign:function(e){var t=function(t){t||(t=event);var r=t.target||t.srcElement;if((3===r.nodeType||11===r.nodeType)&&(r=r.parentNode),!(e.disableInputs&&a["default"].isFormField(r)||e.shift&&!t.shiftKey||e.ctrl&&!t.ctrlKey||e.alt&&!t.altKey)){var n=i.keyName(e.key);if(n===(t.keyCode||t.which))return e.callback(t),!1}};$l.web.dom.setEvent(e.target||document,"keydown",t)}};r["default"]=i,t.exports=r["default"]},{"./laroux.web.forms.js":4}],7:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={map:{},attached:!1,current:null,regexConverter:function(e,t,r){var n=[],o=e.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,t,r,o,a,i){return n.push({name:o,optional:!!i}),t=t||"",""+(i?"":t)+"(?:"+(i?t:"")+(r||"")+(a||r&&"([^/.]+?)"||"([^/]+?)")+")"+(i||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return{regex:new RegExp("^"+o+"$",t?"":"i"),keys:n}},add:function(e,t){n.addNamed(null,e,t)},addNamed:function(e,t,r){if(t in n.map)n.map[t].callback=r;else{var o=n.regexConverter(t);n.map[t]={name:e,callback:r,params:{},keys:o.keys,regex:o.regex}}},get:function(e){for(var t in n.map)if(n.map.hasOwnProperty(t)){var r=n.map[t],o=r.regex.exec(e);if(o){for(var a={},i=1,l=o.length;l>i;i++){var u=r.keys[i-1];void 0!==u&&(a[u.name]="string"==typeof o[i]?decodeURIComponent(o[i]):o[i])}return{route:t,resolved:e,params:a,callback:r.callback}}}return null},getNamed:function(e,t){for(var r in n.map)if(n.map.hasOwnProperty(r)){for(var o=n.map[r],a=r,i=0,l=o.keys.length;l>i;i++){var u=o.keys[i];a=a.replace(":"+u.name,t[u.name]||"")}if(o.name==e)return{route:r,resolved:a,params:t,callback:o.callback}}return null},link:function(e,t){var r=n.getNamed(e,t);return null===r?null:r.resolved},exec:function(t){var r=n.current,o=$l.map(t.params,function(e){return e});return n.current=t,o.push({previous:r,current:n.current}),t.callback.apply(e,o)},go:function(e,t){var r=n.attached;t&&r&&n.detach(),setTimeout(function(){location.hash=e,t&&r&&setTimeout(function(){n.attach()},1)},1)},goNamed:function(e,t,r){var o=n.link(e,t);return null===o?null:void n.go(o,r)},reload:function(){var e=location.hash.substring(1),t=n.get(e);null!==t&&n.exec(t)},attach:function(){addEventListener("hashchange",n.reload,!1),n.attached=!0},detach:function(){removeEventListener("hashchange",n.reload),n.attached=!1}};$l.ready(n.attach),r["default"]=n,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={touchStarted:null,swipeTreshold:80,precision:30,tapCount:0,tapTreshold:200,longTapTreshold:800,tapTimer:null,pos:null,cached:null,events:{start:["touchstart","pointerdown","MSPointerDown","mousedown"],end:["touchend","pointerup","MSPointerUp","mouseup"],move:["touchmove","pointermove","MSPointerMove","mousemove"]},locatePointer:function(e){e.targetTouches&&(e=e.targetTouches[0]),n.pos=[e.pageX,e.pageY]},init:function(){for(var e=[0,navigator.msPointerEnabled?2:1,3],t=0,r=e.length;r>t;t++)$l.web.dom.setEventSingle(document,n.events.start[e[t]],n.onstart),$l.web.dom.setEventSingle(document,n.events.end[e[t]],n.onend),$l.web.dom.setEventSingle(document,n.events.move[e[t]],n.locatePointer)},onstart:function(e){n.locatePointer(e),n.cached=[n.pos[0],n.pos[1]],n.touchStarted=Date.now(),n.tapCount++;var t=function r(){return n.cached[0]>=n.pos[0]-n.precision&&n.cached[0]<=n.pos[0]+n.precision&&n.cached[1]>=n.pos[1]-n.precision&&n.cached[1]<=n.pos[1]+n.precision?null===n.touchStarted?($l.web.dom.dispatchEvent(e.target,2===n.tapCount?"dbltap":"tap",{innerEvent:e,x:n.pos[0],y:n.pos[1]}),void(n.tapCount=0)):Date.now()-n.touchStarted>n.longTapTreshold?($l.web.dom.dispatchEvent(e.target,"longtap",{innerEvent:e,x:n.pos[0],y:n.pos[1]}),n.touchStarted=null,void(n.tapCount=0)):void(n.tapTimer=setTimeout(r,n.tapTreshold)):void(n.tapCount=0)};clearTimeout(n.tapTimer),n.tapTimer=setTimeout(t,n.tapTreshold)},onend:function(e){var t=[n.pos[0]-n.cached[0],n.pos[1]-n.cached[1]],r={innerEvent:e,x:n.pos[0],y:n.pos[1],distance:{x:Math.abs(t[0]),y:Math.abs(t[1])}};n.touchStarted=null,t[0]<=-n.swipeTreshold&&$l.web.dom.dispatchEvent(e.target,"swiperight",r),t[0]>=n.swipeTreshold&&$l.web.dom.dispatchEvent(e.target,"swipeleft",r),t[1]<=-n.swipeTreshold&&$l.web.dom.dispatchEvent(e.target,"swipedown",r),t[1]>=n.swipeTreshold&&$l.web.dom.dispatchEvent(e.target,"swipeup",r)}};$l.ready(n.init),r["default"]=n,t.exports=r["default"]},{}]},{},[5]);
//# sourceMappingURL=../../../build/dist/laroux.web/laroux.web.min.js.map